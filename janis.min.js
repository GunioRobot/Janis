var Janis=function(b){var a,c=[];if(b instanceof NodeList||b instanceof HTMLCollection)for(a=0;a<b.length;++a)c.push(b[a]);else if(typeof b==="string"){b=document.querySelectorAll(b);for(a=0;a<b.length;++a)c.push(b[a])}else if(b instanceof Array)c=b;else c.push(b);return new Janis.pt.init(c)};Janis.formatStyle=function(b){var a="";b.split("-").forEach(function(c,e){a+=e?c.charAt(0).toUpperCase()+c.substr(1).toLowerCase():c.toLowerCase()},this);return a};
Janis.config={easing:"ease-in-out",duration:0,delay:0,browserProperties:{transition:"transition",MozTransition:"-moz-transition",OTransition:"-o-transition",webkitTransition:"-webkit-transition",MsTransition:"-ms-transition"}};
Janis.pt=Janis.prototype={callbacks:{},collection:[],counter:0,init:function(b){var a="",c;this.collection=b;this.loopQueue=[];this.chainQueue=[];if(typeof Janis.config.browserProperty==="undefined"){Janis.config.browserProperty="transition";b=document.createElement("div");for(c in Janis.config.browserProperties)if(Janis.config.browserProperties.hasOwnProperty(c))a+=Janis.config.browserProperties[c]+": width 1s linear;";b.setAttribute("style",a);for(c in Janis.config.browserProperties)if(Janis.config.browserProperties.hasOwnProperty(c)&&
b.style[c])Janis.config.browserProperty=c}this.collection.forEach(function(e){e.style[Janis.config.browserProperty+"Property"]="*";e.style[Janis.config.browserProperty+"Duration"]=Janis.config.duration+"ms"},this);return this},_animate:function(b,a){var c,e,f=this,g;a.index=++this.counter;if(typeof a.duration==="undefined")a.duration=Janis.config.duration;if(typeof a.delay==="undefined")a.delay=Janis.config.delay;if(typeof a.easing==="undefined")a.easing=Janis.config.easing;if(typeof a.callback===
"undefined")a.callback=function(){};if(!(a.callback instanceof Array))a.callback=[a.callback];this.callbacks[a.index]=a.callback;c=this.collection[b];c.style[Janis.config.browserProperty+"Duration"]=a.duration+"ms";c.style[Janis.config.browserProperty+"TimingFunction"]=a.easing;g=function(){var d;for(d in a.css)if(a.css.hasOwnProperty(d)){e=a.css[d];d=Janis.formatStyle(d);c.style[d]=e}};a.delay?window.setTimeout(g,a.delay):g(a);window.setTimeout(function(){f.callbacks[a.index].forEach(function(d){if(typeof d===
"function")d(f,a);else d instanceof Array&&d[0].apply(f,d[1])})},a.delay+a.duration+1);return this},animate:function(b,a){var c,e=-1;if(!(b instanceof Array)){b=[b];for(c=1;c<this.collection.length;++c)b.push(b[0])}if(this.isChained&&!a){this.chainQueue.push(["animate",[b,true]]);return this}this.collection.forEach(function(f,g){var d,h,i={css:{}};if(!b[g]&&e===-1)return this;if(b[g]){h=b[g];e=g}else h=b[e];for(d in h)if(h.hasOwnProperty(d))if(d==="duration"||d==="delay"||d==="easing"||d==="callback")i[d]=
h[d];else i.css[d]=h[d];this._animate(g,i)},this);return this},maxDuration:function(b){var a=-1,c=-1,e=false;b.forEach(function(f){if(typeof f.duration==="undefined")f.duration=Janis.config.duration;if(typeof f.delay==="undefined")f.delay=Janis.config.delay;c=f.duration+f.delay;if(c>a){a=c;e=true}},this);return a},isChained:false,chainQueue:[],chain:function(){this.isChained=true;this.chainQueue=[];return this},execute:function(){if(!this.chainQueue.length)return this;return this.loop(1)},next:function(b){var a=
this.chainQueue.shift();if(!a)return b?[]:this;this[a[0]].apply(this,a[1]);return b?a:this},loopCounter:0,loopQueue:[],loop:function(b,a){var c=this,e;this.isChained=false;if(!a){if(!this.chainQueue.length)return this;if(typeof b==="undefined")b=-1;this.loopCounter=b;this.loopQueue=this.chainQueue.concat()}if(!this.chainQueue.length&&this.loopQueue.length){this.chainQueue=this.loopQueue.concat();this.loopCounter>-1&&--this.loopCounter}if(this.loopCounter===0||!this.chainQueue.length)return this;if(!this.isPaused){e=
this.next(true);if(e.length){e=this.maxDuration(e[1][0]);window.setTimeout(function(){c.loop(c.loopCounter,true)},e)}}return this},isPaused:false,pause:function(){this.isPaused=true;return this},play:function(){this.isPaused=false;this.loop(this.loopCounter,true);return this}};Janis.pt.init.prototype=Janis.pt;
